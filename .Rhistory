margin=FALSE,                       # suppress marginal graphics
par.settings=list(
axis.line=list(col='transparent') # suppress axes and legend outline
),
scales=list(draw=FALSE),            # suppress axis labels
col.regions=colr                  # colour ramp
#  at=seq(-5, 5, len=101)
)   + layer(sp.polygons(bPols))
levelplot(r) + layer(sp.polygons(bPols))
boundaries <- map('worldHires', fill=TRUE,
xlim=ext[1:2], ylim=ext[3:4],
plot=TRUE)
?levelplot
levelplot(r)
bPols
levelplot(r) + layer(sp.polygons(bPols))
library(maps)
library(mapdata)
library(maptools)
## raster
myRaster <- raster(xmn=-100, xmx=100, ymn=-60, ymx=60)
myRaster <- init(myRaster, runif)
## polygon shapefile
ext <- as.vector(extent(myRaster))
boundaries <- map('worldHires', fill=TRUE,
xlim=ext[1:2], ylim=ext[3:4],
plot=FALSE)
IDs <- sapply(strsplit(boundaries$names, ":"), function(x) x[1])
bPols <- map2SpatialPolygons(boundaries, IDs=IDs,
proj4string=CRS(projection(myRaster)))
levelplot(myRaster) + layer(sp.polygons(bPols))
levelplot(r) + layer(sp.polygons(bPols))
foo1 <- function(r){
rBox <- as(extent(r), 'SpatialPolygons')
levelplot(r) +
layer(sp.polygons(rBox, fill='black', alpha=0.2),
data=list(rBox=rBox))
}
foo1(r)
foo1 <- function(r){
ext <- as(extent(r), 'SpatialPolygons')
boundaries <- map('worldHires', fill=TRUE,
xlim=ext[1:2], ylim=ext[3:4],
plot=TRUE)
IDs <- sapply(strsplit(boundaries$names, ":"), function(x) x[1])
bPols <- map2SpatialPolygons(boundaries, IDs=IDs,
proj4string=CRS(projection(r)))
levelplot(r) +
layer(sp.polygons(bPols),
data=list(ext=ext))
}
foo1(r)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/DiversityL.r')
i
tmpdat <- data.frame(y = SmXdat[,i], Longitude = x[,LonID], Latitude = x[,LatID])
diversityL(object = NULL, pdat = tmpdat, too.far = 0.05, LatID = "Latitude",
LonID = "Longitude",
projection = "+proj=longlat +datum=WGS84", col = "lightgrey", fill = "darkgrey")
tmpdat
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/DiversityL.r')
diversityL(object = diet.yft.pr, pdat = pdat, too.far = 0.05, LatID = "Latitude", LonID = "Longitude",
projection = projection, col = "lightgrey", fill = "darkgrey")
fit <- gam(D ~ s(Longitude, Latitude), data = pdat)
head(pdat)
tmpdat <- data.frame(y = SmXdat[,i], Lon = x[,LonID], Lat = x[,LatID])
SmXdat <- data.matrix(x[,SmXvar])
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
SmXdat <- data.matrix(x[,SmXvar])
i <- 1
ncol(SmXdat)
tmpdat <- data.frame(y = SmXdat[,i], Lon = x[,LonID], Lat = x[,LatID])
res[[i]] <- gam(y ~ s(Lon, Lat), data = tmpdat)
plotfit <- Vis.Gam(res[[i]], too.far = 0.05, plot.type = "contour", add = FALSE)
plotfit <- gam:::vis.gam(res[[i]], too.far = 0.05, plot.type = "contour", add = FALSE)
library(mgcv)
plotfit <- gam:::vis.gam(res[[i]], too.far = 0.05, plot.type = "contour", add = FALSE)
gam
vis.gam
plotfit <- vis.gam(res[[i]], too.far = 0.05, plot.type = "contour", add = FALSE)
mat <- plotfit$mat
names(mat)
mat
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/vis.gam.r')
plotfit <- Vis.Gam(res, too.far = 0.05, plot.type = "contour", add = FALSE)
res <- gam(y ~ s(Lon, Lat), data = tmpdat)
plotfit <- Vis.Gam(res, too.far = 0.05, plot.type = "contour", add = FALSE)
mat <- plotfit$mat
mat
names(mat)
res
plotfit
names(plotfit)
plotfit$mat
names(mat) <- c("Longitude", "Latitude", "y")
coordinates(mat) <- ~Longitude+Latitude  # coordinates are being set for the raster
proj4string(mat) <- CRS(projection)  # projection is being set for the raster
gridded(mat) <- TRUE  # a gridded structure is being set for the raster
mat.raster <- raster(mat)  # the raster is being created
palette <- spaMM.colors()
p <- levelplot(mat.raster, maxpixels=4e6, margin=FALSE, cuts=length(palette)-1, col.regions=palette,
xlab = "", ylab = "", at = seq(0, 1, length = 50))
country.layer <- layer(
sp.polygons(worldcountries, fill=fill, col = col),
data=list(sp.polygons=sp.polygons, worldcountries=worldcountries,
fill=fill, col = col)
)
country.layer <- layer(
sp.polygons("world", fill=fill, col = col),
data=list(sp.polygons=sp.polygons, worldcountries=worldcountries,
fill=fill, col = col)
)
data(worldcountries)
country.layer <- layer(
sp.polygons(worldcountries, fill=fill, col = col),
data=list(sp.polygons=sp.polygons, worldcountries=worldcountries,
fill=fill, col = col)
)
country.layer <- layer(
sp.polygons(worldcountries, fill=fill, col = col),
data=list(sp.polygons=sp.polygons, worldcountries=worldcountries,
fill="darkgray", col = "lightgray")
)
points.layer <- layer(
panel.points(Longitude, Latitude, pch = 16, col = "black", cex = 0.6),
data = tmpdat
)
print(p + country.layer + points.layer)
head(tmpdat)
tmpdat <- data.frame(y = SmXdat[,i], Longitude = x[,LonID], Latitude = x[,LatID])
res <- gam(y ~ s(Longitude, Latitude), data = tmpdat)
plotfit <- Vis.Gam(res, too.far = 0.05, plot.type = "contour", add = FALSE)
mat <- plotfit$mat
names(mat) <- c("Longitude", "Latitude", "y")
coordinates(mat) <- ~Longitude+Latitude  # coordinates are being set for the raster
proj4string(mat) <- CRS(projection)  # projection is being set for the raster
gridded(mat) <- TRUE  # a gridded structure is being set for the raster
projection <- "+proj=longlat +datum=WGS84"
proj4string(mat) <- CRS(projection)  # projection is being set for the raster
gridded(mat) <- TRUE  # a gridded structure is being set for the raster
mat.raster <- raster(mat)  # the raster is being created
p <- levelplot(mat.raster, maxpixels=4e6, margin=FALSE, cuts=length(palette)-1, col.regions=palette,
xlab = "", ylab = "", at = seq(0, 1, length = 50))
country.layer <- layer(
sp.polygons(worldcountries, fill=fill, col = col),
data=list(sp.polygons=sp.polygons, worldcountries=worldcountries,
fill="darkgray", col = "lightgray")
)
points.layer <- layer(
panel.points(Longitude, Latitude, pch = 16, col = "black", cex = 0.6),
data = tmpdat
)
print(p + country.layer + points.layer)
p
p+country.layer
print(p + country.layer + points.layer)
mat.raster
length(palette)-1
extent(mat)
extent(mat)$xmin
ext <- as.vector(extent(mat))
ext
range(mat)
range(mat$y)
range(mat$y, na.rm = TRUE)
zext <- range(mat$y, na.rm = TRUE)
zext
p <- levelplot(mat.raster, maxpixels=4e6, margin=FALSE, cuts=length(palette)-1, col.regions=palette,
xlab = "", ylab = "", at = seq(zext[1], zext[2], length = 50))
p
print(p + country.layer + points.layer)
seq(zext[1], zext[2], length = 50)
mat.raster
?levelplot
length(palette)-1
p <- levelplot(mat.raster)
p
plotfit <- Vis.Gam(res, too.far = 0.05, plot.type = "contour", add = FALSE)
plotfit()
plotfit
mat <- plotfit$mat
Vis.Gam(res)
plotfit <- Vis.Gam(res, too.far = 0.05, plot.type = "contour", add = FALSE)
mat <- plotfit$mat
names(mat) <- c("Longitude", "Latitude", "y")
coordinates(mat) <- ~Longitude+Latitude  # coordinates are being set for the raster
proj4string(mat) <- CRS(projection)  # projection is being set for the raster
gridded(mat) <- TRUE  # a gridded structure is being set for the raster
mat.raster <- raster(mat)  # the raster is being created
plot(mat.raster)
p <- levelplot(mat.raster, maxpixels=4e6, margin=FALSE, cuts=length(palette)-1, col.regions=palette,
xlab = "", ylab = "")
p
levelplot(mat.raster)
p <- levelplot(mat.raster, maxpixels=4e6, margin=FALSE, cuts=length(palette)-1,
col.regions=palette,
xlab = "", ylab = "", at = seq(0, 1, length = 50))
p
p <- levelplot(mat.raster, maxpixels=4e6, margin=FALSE, cuts=length(palette)-1,
col.regions=palette,
xlab = "", ylab = "", at = seq(20, 40, length = 50))
p
p <- levelplot(mat.raster, maxpixels=4e6, margin=FALSE, cuts=length(palette)-1,
col.regions=palette,
xlab = "", ylab = "", at = seq(10, 40, length = 50))
p
levelplot(mat.raster)
plot(mat.raster)
p <- plot(mat.raster)
p
p <- levelplot(mat.raster,
margin=FALSE,                       # suppress marginal graphics
par.settings=list(
axis.line=list(col='transparent') # suppress axes and legend outline
),
scales=list(draw=FALSE),            # suppress axis labels
col.regions=palette                  # colour ramp
#  at=seq(-5, 5, len=101)
)
p
r <- raster(zmat,
xmn = range(Long)[1], xmx = range(Long)[2],
ymn = range(Lati)[1], ymx = range(Lati)[2],
crs = "+proj=longlat +datum=WGS84")
zmat <- data.frame(matrix(exg$yhat, nrow = len, ncol = len))
names(zmat) <- Long
row.names(zmat) <- Lati
zmat.se <- data.frame(matrix(exg$yhat.SE, nrow = len, ncol = len))
names(zmat.se) <- Lati
row.names(zmat.se) <- Long
xx <- as.numeric(as.vector(exg$Lon))
yy <- as.numeric(as.vector(exg$Lat))
varx <- na.omit(x[,LonID])
vary <- na.omit(x[,LatID])
tt <- mask(xx, yy, varx, vary)
tt <- ifelse(tt == 1, TRUE, FALSE)
zmat <- as.matrix(zmat)
zmat[tt] <- NA
zmat.se <- as.matrix(zmat.se)
zmat.se[tt] <- NA
plotfit
names(plotfit)
image(plotfit$mat)
image(plotfit)
mat <- plotfit$mat
dim(mat)
head(mat)
names(mat) <- c("Longitude", "Latitude", "z")
coordinates(mat) <- ~Longitude+Latitude  # coordinates are being set for the raster
proj4string(mat) <- CRS(projection)  # projection is being set for the raster
gridded(mat) <- TRUE  # a gridded structure is being set for the raster
mat.raster <- raster(mat)  # the raster is being created
plot(mat.raster)
class(mat.raster)
levelplot(mat.raster)
zext <- range(mat$z, na.rm = TRUE)
p <- levelplot(mat.raster, maxpixels=4e6, margin=FALSE, cuts=length(palette)-1, col.regions=palette,
xlab = "", ylab = "", at = seq(zext[1], zext[2], length = 50))
p
country.layer <- layer(
sp.polygons(worldcountries, fill=fill, col = col),
data=list(sp.polygons=sp.polygons, worldcountries=worldcountries,
fill="darkgray", col = "lightgray")
)
points.layer <- layer(
panel.points(Longitude, Latitude, pch = 16, col = "black", cex = 0.6),
data = tmpdat
)
print(p + country.layer + points.layer)
SmXvar
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
plotfit <- Vis.Gam(res, too.far = 0.05, plot.type = "contour", add = FALSE)
plotfit <- Vis.Gam(res[[i]], too.far = 0.05, plot.type = "contour", add = FALSE)
mat <- plotfit$mat
names(mat) <- c("Longitude", "Latitude", "z")
coordinates(mat) <- ~Longitude+Latitude  # coordinates are being set for the raster
proj4string(mat) <- CRS(projection)  # projection is being set for the raster
gridded(mat) <- TRUE  # a gridded structure is being set for the raster
mat.raster <- raster(mat)  # the raster is being created
zext <- range(mat$z, na.rm = TRUE)
p <- levelplot(mat.raster, maxpixels=4e6, margin=FALSE, cuts=length(palette)-1, col.regions=palette,
xlab = "", ylab = "", at = seq(zext[1], zext[2], length = 50))
country.layer <- layer(
sp.polygons(worldcountries, fill=fill, col = col),
data=list(sp.polygons=sp.polygons, worldcountries=worldcountries,
fill="darkgray", col = "lightgray")
)
points.layer <- layer(
panel.points(Longitude, Latitude, pch = 16, col = "black", cex = 0.6),
data = tmpdat
)
print(p + country.layer + points.layer)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
plotfit <- Vis.Gam(res[[i]], too.far = 0.05, plot.type = "contour", add = FALSE)
?vis.gam
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/vis.gam.r')
plotfit <- Vis.Gam(res[[i]], too.far = 0.05, plot.type = "contour", add = FALSE)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/vis.gam.r')
plotfit <- Vis.Gam(res[[i]], too.far = 0.05, plot.type = "contour", add = FALSE)
mat <- plotfit$mat
names(mat) <- c("Longitude", "Latitude", "z")
coordinates(mat) <- ~Longitude+Latitude  # coordinates are being set for the raster
proj4string(mat) <- CRS(projection)  # projection is being set for the raster
gridded(mat) <- TRUE  # a gridded structure is being set for the raster
mat.raster <- raster(mat)  # the raster is being created
zext <- range(mat$z, na.rm = TRUE)
p <- levelplot(mat.raster, maxpixels=4e6, margin=FALSE, cuts=length(palette)-1, col.regions=palette,
xlab = "", ylab = "", at = seq(zext[1], zext[2], length = 50),
main = SmXvar[i])
p
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/vis.gam.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
names(explore.diet)
explore.diet$dataS2
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/MapPredator.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/MapPredator.r')
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/MapPrey.r')
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/MapPreyPredator.r')
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/MapPreyPredator.r')
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/MapPreyPredator.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/SmPlots.r')
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/SmPlots.r')
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/SmPlots.r')
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/SmPlots.r')
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/SmPlots.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
tmpdat <- data.frame(y = SmXdat[,i], Longitude = x[,LonID], Latitude = x[,LatID])
head(tmpdat)
res <- gam(y ~ s(Longitude, Latitude), data = tmpdat)
plotfit <- Vis.Gam(res, too.far = too.far, plot.type = "contour", add = FALSE)
mat <- plotfit$mat
names(mat) <- c("Longitude", "Latitude", "z")
head(mat)
coordinates(mat) <- ~Longitude+Latitude  # coordinates are being set for the raster
proj4string(mat) <- CRS(projection)  # projection is being set for the raster
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/SmPlots.r')
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
print(val$p + val$country.layer + val$points.layer)
val$p
names(val)
val$country.layer
print(val$p)
print(val$country.layer)
print(val$points.layer)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/SmPlots.r')
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/SmPlots.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
print(p + country.layer + points.layer)
p
print(p)
print(country.layer)
print(points.layer)
p <- levelplot(mat.raster, maxpixels=4e6, margin=FALSE, cuts=length(palette)-1, col.regions=palette,
xlab = "", ylab = "", at = seq(zext[1], zext[2], length = 50),
main = SmXvar[i])
p
print(p)
palette
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/SmPlots.r')
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/plot.diet.r')
explore.diet <- plot(x = dietPP, LonID = "Lon", LatID = "Lat",
Xvar = c("Quarter", "Year", "SST", "Length", "Lat", "Lon"),
PredSpID = "PredSpp", mapxlim = c(-125, -75), mapylim = c(0, 30),
SmXvar = c("SST", "Length"), PredIDno = "TripSetPredNo", col = "gold3",
Factor = "PredSpp", prey.cols = node.colsY)
print(p)
print(p + country.layer + points.layer)
source('C:/Users/kuh009/Dropbox/Diet_Package_2017/diet/R/SmPlots.r')
library(shiny); runApp('C:/Users/kuh009/Dropbox/Diet_Package_2017/App/dietApp.r')
dim(dietPP)
runApp('C:/Users/kuh009/Dropbox/Diet_Package_2017/App/dietApp.r')
runApp('C:/Users/kuh009/Dropbox/AGM/Apps/AGM_app.R')
runApp('C:/Users/kuh009/Dropbox/Diet_Package_2017/App/dietApp.r')
runApp('C:/Users/kuh009/Dropbox/Diet_Package_2017/App/dietApp.r')
runApp('C:/Users/kuh009/Dropbox/Diet_Package_2017/App/dietApp.r')
devtools::load_all(".")
rpart.plot
rpart:::rpart.plot
library(rpart)
rpart.plot
rpart:::rpart.plot
library(diet)
install.packages("C:/Users/kuh009/Dropbox/Diet_Package_2017/diet_0.91.zip", repos = NULL, type = "win.binary")
detach(diet)
detach("diet")
q()
